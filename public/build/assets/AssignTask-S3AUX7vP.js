import{r as m,T as A,o as T,a as u,b as n,c as B,w as f,d as r,u as o,Z as V,e as a,f as D,g as p,v as g,h as l,i as v,F as h,j as E,n as N,t as _}from"./app-UuDk6DcT.js";import{_ as b,a as k}from"./InputLabel-BjdvJ34J.js";import{P as S}from"./PrimaryButton-BGnPP9qM.js";import{_ as U}from"./AuthenticatedLayout-CW4_WrNu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CDhRAOIs.js";const M={class:"bg-white m-10 rounded-lg p-10"},$=a("p",{class:"text-center pb-5 font-bold underline"},"Assign A Task",-1),j={class:"mb-6"},C=a("option",{disabled:"",value:""},"Select Task",-1),F=["value"],I={class:"mb-6"},P=a("option",{disabled:"",value:""},"Assign to",-1),z=["value"],L={class:"flex items-center justify-end"},Q={__name:"AssignTask",setup(Z){const d=m([]),c=m([]),e=A({issue_id:"",user_id:""});T(()=>{w(),x()});const y=async()=>{try{await u.post("http://fred-issues2.test/api/assignment",{issue_id:e.issue_id,user_id:e.user_id}),e.reset()}catch(t){console.error("Error assigning task:",t)}},w=async()=>{try{const t=await u.get("http://fred-issues2.test/api/users");d.value=t.data.filter(i=>i.role_id===2),console.log(d.value)}catch(t){console.error("Error fetching users:",t)}},x=async()=>{try{const t=await u.get("http://fred-issues2.test/api/issues");c.value=t.data.filter(i=>i.status_id===1),console.log(c.value)}catch(t){console.error("Error fetching issues:",t)}};return(t,i)=>(n(),B(U,null,{default:f(()=>[r(o(V),{title:"Assign Task"}),a("div",M,[$,a("form",{onSubmit:D(y,["prevent"]),class:"max-w-md mx-auto"},[a("div",j,[r(b,{for:"issue_id",value:"Name of Task"}),p(a("select",{id:"issue_id",name:"issue_id",class:"form-select mt-1 block w-full","onUpdate:modelValue":i[0]||(i[0]=s=>o(e).issue_id=s)},[C,(n(!0),l(h,null,v(c.value,s=>(n(),l("option",{value:s.id,key:s.id},_(s.name),9,F))),128))],512),[[g,o(e).issue_id]]),r(k,{class:"mt-2",message:o(e).errors.issue_id},null,8,["message"])]),a("div",I,[r(b,{for:"user_id",value:"Assign to"}),p(a("select",{id:"user_id",name:"user_id",class:"form-select mt-1 block w-full","onUpdate:modelValue":i[1]||(i[1]=s=>o(e).user_id=s)},[P,(n(!0),l(h,null,v(d.value,s=>(n(),l("option",{value:s.id,key:s.id},_(s.name)+" "+_(s.last_name),9,z))),128))],512),[[g,o(e).user_id]]),r(k,{class:"mt-2",message:o(e).errors.user_id},null,8,["message"])]),a("div",L,[r(S,{class:N(["px-4 py-2",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:f(()=>[E(" Assign ")]),_:1},8,["class","disabled"])])],32)])]),_:1}))}};export{Q as default};
